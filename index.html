<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>観測室</title>

<style>
body{
 background:#111;
 color:#ddd;
 text-align:center;
 font-family:sans-serif;
 padding-top:8%;
}

iframe{
 border:none;
 margin-top:30px;
}

h1,p{
 color:#eaf6ff;
 animation:breathe 4s ease-in-out infinite;
}

@keyframes breathe{
 0%{text-shadow:0 0 6px rgba(0,255,140,.6),0 0 16px rgba(0,255,140,.4);}
 50%{text-shadow:0 0 16px rgba(0,255,140,1),0 0 32px rgba(0,255,140,.8);}
 100%{text-shadow:0 0 6px rgba(0,255,140,.6),0 0 16px rgba(0,255,140,.4);}
}

.noSignal{
 color:#b6ffb6;
 animation:greenGlow 2.5s ease-in-out infinite;
 font-weight:bold;
 letter-spacing:2px;
}

@keyframes greenGlow{
 0%{text-shadow:0 0 4px rgba(0,255,120,.4),0 0 12px rgba(0,255,120,.3);}
 50%{text-shadow:0 0 18px rgba(0,255,120,1),0 0 40px rgba(0,255,120,.9);}
 100%{text-shadow:0 0 4px rgba(0,255,120,.4),0 0 12px rgba(0,255,120,.3);}
}

.liveWrap{
 display:flex;
 flex-direction:column;
 align-items:center;
}
</style>
</head>

<body>

<h1>この空間は公開されています</h1>

<p>音声はありません。</p>
<p>干渉はできません。</p>
<p>この映像は公開されています。</p>

<p>This space is being observed.</p>
<p>No audio is transmitted.</p>
<p>This video is publicly available.</p>

<p dir="rtl">هذه المساحة تحت المراقبة</p>
<p dir="rtl">لا يوجد صوت</p>
<p dir="rtl">هذا الفيديو متاح للعامة</p>


<!-- 過去動画枠 -->
<iframe id="pastVideo" width="900" height="506" allowfullscreen></iframe>

<br><br>
<p>LIVE FEED</p>

<!-- ライブ配信枠 -->
<div class="liveWrap">

<div id="statusText" class="noSignal">
STATUS UNKNOWN
</div>

<iframe
id="liveFrame"
width="900"
height="506"
src="https://www.youtube.com/embed/live_stream?channel=UC9W371pV3VHzn3BP3B61Drg"
allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
allowfullscreen>
</iframe>

</div>



<script>

/* =========================
   過去動画ランダム表示
========================= */

const videos=[
"jtHBEX1xwao",
"Z1aGd8W2br0",
"i5iGwcwmgAw"
];

const past=document.getElementById("pastVideo");

if(videos.length>0){
 const random=videos[Math.floor(Math.random()*videos.length)];
 past.src="https://www.youtube.com/embed/"+random;
}



/* =========================
   ライブ状態チェック
========================= */

const status=document.getElementById("statusText");

fetch("https://www.youtube.com/channel/UC9W371pV3VHzn3BP3B61Drg/live")
.then(res=>{
 if(res.redirected){
   status.style.display="none"; // 配信中
 }
 else{
   status.style.display="block"; // 配信してない
 }
})
.catch(()=>{
 status.style.display="block";
});

</script>

</body>
</html>

